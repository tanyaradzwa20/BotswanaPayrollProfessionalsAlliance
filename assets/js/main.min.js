(function(){'use strict';const elements={mobileToggle:document.getElementById('mobileToggle'),navMenu:document.getElementById('navMenu'),navbar:document.getElementById('navbar'),scrollToTop:document.getElementById('scrollToTop')};function throttle(func,delay){let timeout=null;let lastRan=0;return function(){const context=this;const args=arguments;const now=Date.now();if(!lastRan||now-lastRan>=delay){func.apply(context,args);lastRan=now}else{clearTimeout(timeout);timeout=setTimeout(function(){func.apply(context,args);lastRan=Date.now()},delay-(now-lastRan))}}}if(elements.mobileToggle){elements.mobileToggle.addEventListener('click',function(){this.classList.toggle('active');elements.navMenu.classList.toggle('active')},{passive:true});elements.navMenu.addEventListener('click',function(e){if(e.target.classList.contains('nav-link')){elements.mobileToggle.classList.remove('active');elements.navMenu.classList.remove('active')}},{passive:true})}const heroSlides=document.querySelectorAll('.hero-slide');const heroPrevBtn=document.getElementById('heroPrev');const heroNextBtn=document.getElementById('heroNext');const heroIndicators=document.querySelectorAll('.hero-indicator');if(heroSlides.length>0&&heroPrevBtn&&heroNextBtn){let currentHeroSlide=0;let heroAutoSlideInterval;const slideCount=heroSlides.length;function updateHeroSlide(index){heroSlides[currentHeroSlide].classList.remove('active');if(heroIndicators[currentHeroSlide])heroIndicators[currentHeroSlide].classList.remove('active');currentHeroSlide=index;heroSlides[currentHeroSlide].classList.add('active');if(heroIndicators[currentHeroSlide])heroIndicators[currentHeroSlide].classList.add('active')}function nextHeroSlide(){updateHeroSlide((currentHeroSlide+1)% slideCount)}function prevHeroSlide(){updateHeroSlide((currentHeroSlide-1+slideCount)% slideCount)}function startHeroAutoSlide(){stopHeroAutoSlide();heroAutoSlideInterval=setInterval(nextHeroSlide,6000)}function stopHeroAutoSlide(){if(heroAutoSlideInterval)clearInterval(heroAutoSlideInterval)}heroNextBtn.addEventListener('click',function(){stopHeroAutoSlide();nextHeroSlide();startHeroAutoSlide()},{passive:true});heroPrevBtn.addEventListener('click',function(){stopHeroAutoSlide();prevHeroSlide();startHeroAutoSlide()},{passive:true});heroIndicators.forEach(function(indicator,index){indicator.addEventListener('click',function(){stopHeroAutoSlide();updateHeroSlide(index);startHeroAutoSlide()},{passive:true})});document.addEventListener('visibilitychange',function(){document.hidden?stopHeroAutoSlide():startHeroAutoSlide()});startHeroAutoSlide()}const handleScroll=throttle(function(){const scroll=window.pageYOffset;if(elements.navbar){elements.navbar.classList.toggle('scrolled',scroll>100)}if(elements.scrollToTop){elements.scrollToTop.classList.toggle('visible',scroll>50)}},100);window.addEventListener('scroll',handleScroll,{passive:true});document.addEventListener('click',function(e){const anchor=e.target.closest('a[href^="#"]');if(!anchor)return;const href=anchor.getAttribute('href');if(href==='#')return;const target=document.querySelector(href);if(target){e.preventDefault();window.scrollTo({top:target.offsetTop-80,behavior:'smooth'})}});function initCarousel(){const track=document.getElementById('carouselTrack');const prevBtn=document.getElementById('prevBtn');const nextBtn=document.getElementById('nextBtn');const indicators=document.querySelectorAll('.indicator');if(!track||!prevBtn||!nextBtn)return;const originalCards=Array.from(track.children);originalCards.forEach(function(card){track.appendChild(card.cloneNode(true))});const allCards=Array.from(track.children);let currentIndex=0;const totalOriginal=originalCards.length;let autoSlideInterval;let isTransitioning=false;function getCardMetrics(){const card=allCards[0];const style=getComputedStyle(track);return{cardWidth:card.getBoundingClientRect().width,gap:parseFloat(style.gap)||0}}function moveCarousel(index,useTransition){if(useTransition===undefined)useTransition=true;const metrics=getCardMetrics();track.style.transition=useTransition?'transform 0.5s cubic-bezier(0.25,1,0.5,1)':'none';track.style.transform='translateX(-'+((metrics.cardWidth+metrics.gap)*index)+'px)';currentIndex=index;isTransitioning=useTransition;const realIndex=index % totalOriginal;indicators.forEach(function(ind,i){ind.classList.toggle('active',i===realIndex)})}function handleNext(){if(isTransitioning)return;moveCarousel(currentIndex+1);if(currentIndex>=totalOriginal){track.addEventListener('transitionend',function reset(){if(currentIndex>=totalOriginal){moveCarousel(currentIndex-totalOriginal,false)}track.removeEventListener('transitionend',reset)})}}function handlePrev(){if(isTransitioning)return;if(currentIndex<=0){moveCarousel(totalOriginal,false);requestAnimationFrame(function(){requestAnimationFrame(function(){moveCarousel(totalOriginal-1)})})}else{moveCarousel(currentIndex-1)}}track.addEventListener('transitionend',function(){isTransitioning=false});function startAutoSlide(){stopAutoSlide();autoSlideInterval=setInterval(handleNext,3000)}function stopAutoSlide(){if(autoSlideInterval)clearInterval(autoSlideInterval)}nextBtn.addEventListener('click',function(){stopAutoSlide();handleNext();startAutoSlide()},{passive:true});prevBtn.addEventListener('click',function(){stopAutoSlide();handlePrev();startAutoSlide()},{passive:true});indicators.forEach(function(ind,i){ind.addEventListener('click',function(){stopAutoSlide();moveCarousel(i);startAutoSlide()},{passive:true})});track.addEventListener('mouseenter',stopAutoSlide);track.addEventListener('mouseleave',startAutoSlide);window.addEventListener('resize',throttle(function(){moveCarousel(0,false)},250));startAutoSlide()}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',initCarousel)}else{initCarousel()}})();